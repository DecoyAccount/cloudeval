<link rel="stylesheet" href="http://use.fontawesome.com/releases/v6.3.0/css/all.css">

<style type="text/css">
    #ssb_alexa_blue {
        background-color: #3366ff;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #3366ff;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_alexa_ocean {
        background-color: #00a0d2;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00a0d2;
        white-space: nowrap
    }
    #ssb_alexa_sand {
        background-color: #f2f2f2;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #dcdcdc;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_alexa_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00a0d2;
        position: relative;
        top: -1px;
        border-color: #00a0d2;
        border-style: solid;
        border-width: 2px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_blue {
        background-color: #257ACF;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_orange {
        background-color: #E36000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_catalog_red {
        background-color: #D90000;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        border-radius: 5px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_dark_blue {
        color: white;
        background-color: darkblue;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_grafana_blue {
        background-color: #00678b;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00678b;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_green {
        background-color: #629300;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #629300;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grafana_orange {
        background-color: #ec8427;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #ec8427;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_grey {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 5px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_grey_square {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 1px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 2px;
        padding-bottom: 2px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_blue {
        background-color: #00A1C9;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #00A1C9;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_iot_grey {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: gray;
        position: relative;
        top: -1px;
        border-color: gray;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_iot_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #00A1C9;
        position: relative;
        top: -1px;
        border-color: #00A1C9;
        border-radius: 2px;
        border-style: solid;
        border-width: 1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_kibana_blue {
        background-color: #0079a5;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: #0079a5;
        border-radius: 2px;
        white-space: nowrap
    }
    #ssb_kibana_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #0079a5;
        position: relative;
        top: -1px;
        border-color: #0079a5;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_lambda_white {
        background-color: white;
        font-weight: bold;
        font-size: 90%;
        color: #545b64;
        position: relative;
        top: -1px;
        border-color: #545b64;
        border-radius: 2px;
        border-width: 1px;
        border-style: solid;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssb_maroon {
        color: white;
        background-color: darkred;
        border-radius: 3px;
        padding: 0px 6px;
        white-space: nowrap
    }
    #ssb_orange {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: black;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        white-space: nowrap
    }
    #ssl_orange {
        color: #ec7211;
        font-weight: bold
    }
    #ssb_orange_oval {
        background-color: #ec7211;
        font-weight: bold;
        font-size: 90%;
        color: white;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-radius: 20px;
        white-space: nowrap
    }
    #ssb_oval {
        background-color: #DEDEDE;
        font-weight: bold;
        font-size: 90%;
        color: #444;
        position: relative;
        top: -1px;
        border-radius: 20px;
        border-width: 1px;
        border-style: solid;
        border-color: #444;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
    }
    #ssb_start_lab {
        background-color: #34A853;
        font-weight: bold;
        font-size: 90%;
        color: white;
        border-radius: 2px;
        padding-left: 10px;
        padding-right: 10px;
        padding-top: 3px;
        padding-bottom: 3px
    }
    #ssb_open_console {
        background-color: white;
        font-family: Google Sans;
        font-weight: bold;
        font-size: 90%;
        color: #1a73e8;
        border-color: #dadce0;
        border-radius: 4px;
        border-width: 2px;
        border-style: solid;
        outline-color: #ffffff;
        padding-top: 5px;
        padding-bottom: 5px;
        padding-left: 10px;
        padding-right: 10px
    }
    #ssb_voc_grey {
        background-color: #F2F3F4;
        font-size: 90%;
        color: black;
        position: relative;
        top: -1px;
        padding-top: 3px;
        padding-bottom: 3px;
        padding-left: 10px;
        padding-right: 10px;
        border-color: grey;
        border-width: 1px;
        border-style: solid;
        white-space: nowrap
    }
</style>



# Lab 6: Scale and Load Balance Your Architecture

<!-- Note to translators: This is based on Technical Essentials Lab 3. Copy the translation from there. Do not re-translate the whole document. -->

<!--*Version 4.6.6 (TESS3) + custom change*-->

This lab walks you through using the Elastic Load Balancing (ELB) and Auto Scaling services to load balance and automatically scale your infrastructure.

**Elastic Load Balancing** automatically distributes incoming application traffic across multiple Amazon EC2 instances. It enables you to achieve fault tolerance in your applications by seamlessly providing the required amount of load balancing capacity needed to route application traffic.

**Auto Scaling** helps you maintain application availability and allows you to scale your Amazon EC2 capacity out or in automatically according to conditions you define. You can use Auto Scaling to help ensure that you are running your desired number of Amazon EC2 instances. Auto Scaling can also automatically increase the number of Amazon EC2 instances during demand spikes to maintain performance and decrease capacity during lulls to reduce costs. Auto Scaling is well suited to applications that have stable demand patterns or that experience hourly, daily, or weekly variability in usage.  


**Objectives**

After completing this lab, you can:

- Create an Amazon Machine Image (AMI) from a running instance.
- Create a load balancer.
- Create a launch template and an Auto Scaling group.
- Automatically scale new instances 
- Create Amazon CloudWatch alarms and monitor performance of your infrastructure.

&nbsp;

**Duration**

This lab takes approximately **30 minutes**.



**Scenario**

You start with the following infrastructure:

<img src="../../images/starting-architecture.png" alt="Starting architecture" width="800">


The final state of the infrastructure is:


<img src="../../images/final-architecture.png" alt="Final architecture" width="800">

## Accessing the AWS Management Console

1. At the top of these instructions, choose <span id="ssb_voc_grey">Start Lab</span> to launch your lab.

    A Start Lab panel opens displaying the lab status.

2. Wait until you see the message "**Lab status: in creation**", then choose the **X** to close the Start Lab panel.

    **Note**: It may take approximately 10 minutes or longer for the lab status to change to ready.

3. At the top of these instructions, choose <span id="ssb_voc_grey">AWS</span>

    This will open the AWS Management Console in a new browser tab. The system will automatically log you in.

    **Tip**: If a new browser tab does not open, there will typically be a banner or icon at the top of your browser indicating that your browser is preventing the site from opening pop-up windows. Choose the banner or icon and choose "Allow pop ups."

4. Arrange the AWS Management Console tab so that it displays along side these instructions. Ideally, you will be able to see both browser tabs at the same time, to make it easier to follow the lab steps.

&nbsp;
___
## Task 1: Create an AMI for Auto Scaling

In this task, you will create an AMI from the existing _Web Server 1_. This will save the contents of the boot disk so that new instances can be launched with identical content.

5. In the **AWS Management Console**, in the search box next to <span id="ssb_services"><i class="fas fa-th"></i> Services </span>, search for and select **EC2**.

6. In the left navigation pane, choose **Instances**.

    First, you will confirm that the instance is running.

7. Wait until the **Status Checks** for **Web Server 1** displays *2/2 checks passed*. If necessary, choose refresh <i class="fas fa-sync"></i> to update the status.

    You will now create an AMI based upon this instance.

8. Select <i class="far fa-check-square"></i> **Web Server 1**.

9. In the <span id="ssb_white">Actions <i class="fas fa-angle-down"></i></span> menu, choose **Image and templates** &gt; **Create image**, then configure:

   - **Image name:** `WebServerAMI`
   - **Image description:** `Lab AMI for Web Server`

10. Choose <span id="ssb_orange">Create image</span>

    A confirmation banner displays the **AMI ID** for your new AMI.

    You will use this AMI when launching the Auto Scaling group later in the lab.


&nbsp;
___
## Task 2: Create a Load Balancer

In this task, you will create a load balancer that can balance traffic across multiple EC2 instances and Availability Zones.

11. In the left navigation pane, choose **Target Groups**.

    **Analysis**: _Target Groups_ define where to *send* traffic that comes into the Load Balancer. The Application Load Balancer can send traffic to multiple Target Groups based upon the URL of the incoming request, such as having requests from mobile apps going to a different set of servers. Your web application will use only one Target Group.

    - Choose <span id="ssb_orange">Create target group</span>
    - Choose a target type: **Instances**
    - **Target group name**, enter: `LabGroup`
    - Select **Lab VPC** from the **VPC** drop-down menu.

12. Choose <span id="ssb_orange">Next</span>. The **Register targets** screen appears.

    Note: _Targets_ are the individual instances that will respond to requests from the Load Balancer.

    You do not have any web application instances yet, so you can skip this step.

11. Review the settings and choose <span id="ssb_orange">Create target group</span>

11. In the left navigation pane, choose **Load Balancers**.

12. At the top of the screen, choose <span id="ssb_orange">Create load balancer</span>.

    Several different types of load balancer are displayed. You will be using an _Application Load Balancer_ that operates at the request level (layer 7), routing traffic to targets — EC2 instances, containers, IP addresses and Lambda functions — based on the content of the request. For more information, see: <a href="https://aws.amazon.com/elasticloadbalancing/features/#compare" target="_blank">Comparison of Load Balancers</a>

13. Under **Application Load Balancer**, choose <span id="ssb_white">Create</span>

13. Under **Load balancer name**, enter: `LabELB`

14. Scroll down to the **Network mapping** section, then:

    - For **VPC**, choose **Lab VPC**

      You will now specify which _subnets_ the Load Balancer should use. The load balancer will be internet facing, so you will select both Public Subnets.

    - Choose the **first** displayed Availability Zone, then select **Public Subnet 1** from the Subnet drop down menu that displays beneath it.

    - Choose the **second** displayed Availability Zone, then select **Public Subnet 2** from the Subnet drop down menu that displays beneath it.

      You should now have two subnets selected: **Public Subnet 1** and **Public Subnet 2**. 

15. In the **Security groups** section:

    - Choose the Security groups drop down menu and select <i class="far fa-check-square"></i> **Web Security Group**

    - Below the drop down menu, choose the **X** next to the default security group to remove it.

      The **Web Security Group** security group should now be the only one that appears.

23. For the Listener HTTP:80 row, set the Default action to forward to **LabGroup**.

21. Scroll to the bottom and choose <span id="ssb_orange">Create load balancer</span>

    The load balancer is successfully created.

    - Choose <span id="ssb_orange">View load balancer</span>

      The load balancer will show a state of _provisioning_. There is no need to wait until it is ready. Please continue with the next task.
    

&nbsp;
___
## Task 3: Create a Launch Template and an Auto Scaling Group

In this task, you will create a _launch template_ for your Auto Scaling group. A launch template is a template that an Auto Scaling group uses to launch EC2 instances. When you create a launch template, you specify information for the instances such as the AMI, the instance type, a key pair, and security group.



22. In the left navigation pane, choose **Launch Templates**.

    

23. Choose <span id="ssb_orange">Create launch template</span>

    

24. Configure the launch template settings and create it:

    - **Launch template name:** `LabConfig`

    - Under **Auto Scaling guidance**, select <i class="far fa-check-square"></i> *Provide guidance to help me set up a template that I can use with EC2 Auto Scaling*

    - In the Application and OS Images (Amazon Machine Image) area, choose *My AMIs*.

    - **Amazon Machine Image (AMI)**: choose *Web Server AMI*

    - **Instance type:** choose *t2.micro*

    - **Key pair name**: choose *vockey*

    - **Firewall (security groups)**: choose *Select existing security group*

    - **Security groups**: choose  <i class="far fa-check-square"></i> *Web Security Group*

    - Scroll down to the **Advanced details** area and expand it.

    - Scroll down to the **Detailed CloudWatch monitoring** setting. Select <i class="far fa-check-square"></i> *Enable*

      Note: This will allow Auto Scaling to react quickly to changing utilization.

    - Choose <span id="ssb_orange">Create launch template</span>

      Next, you will create an Auto Scaling group that uses this launch template.

      

25. In the Success dialog, choose the **LabConfig** launch template.

    

26. From the <span id="ssb_white">Actions<i class="fas fa-caret-down"></i></span> menu, choose *Create Auto Scaling group*

    

27. Configure the details in Step 1 (Choose launch template or configuration):

    - **Auto Scaling group name:** `Lab Auto Scaling Group`

    - **Launch template**: confirm that the *LabConfig* template you just created is selected.

    - Choose <span id="ssb_orange">Next</span>

      

28. Configure the details in Step 2 (Choose instance launch options):

    - **VPC**: choose *Lab VPC*

    - **Availability Zones and subnets**: Choose *Private Subnet 1* and then choose *Private Subnet 2*.

    - Choose <span id="ssb_orange">Next</span>

      

29. Configure the details in Step 3 (Configure advanced options):

    - Choose **Attach to an existing load balancer**

      - **Existing load balancer target groups**: select *LabGroup*.

    - In the **Additional settings** pane:

      - Select <i class="far fa-check-square"></i> **Enable group metrics collection within CloudWatch**

      This will capture metrics at 1-minute intervals, which allows Auto Scaling to react quickly to changing usage patterns.

    - Choose <span id="ssb_orange">Next</span>

      

30. Configure the details in Step 4 (Configure group size and scaling policies - optional):

    - Under **Group size**, configure: 

      - **Desired capacity:** 2
      - **Minimum capacity:** 2
      - **Maximum capacity:** 6

        This will allow Auto Scaling to automatically add/remove instances, always keeping between 2 and 6 instances running.

    - Under **Scaling policies**, choose *Target tracking scaling policy* and configure:

      - **Scaling policy name:** `LabScalingPolicy`
      - **Metric type:** _Average CPU Utilization_
      - **Target value:** `60`

        This tells Auto Scaling to maintain an _average_ CPU utilization _across all instances_ at 60%. Auto Scaling will automatically add or remove capacity as required to keep the metric at, or close to, the specified target value. It adjusts to fluctuations in the metric due to a fluctuating load pattern.

    - Choose <span id="ssb_orange">Next</span>

31. Configure the details in Step 5 (Add notifications - optional):

    Auto Scaling can send a notification when a scaling event takes place. You will use the default settings.

    - Choose <span id="ssb_orange">Next</span>

32. Configure the details in Step 6 (Add tags - optional):

    Tags applied to the Auto Scaling group will be automatically propagated to the instances that are launched.

    - Choose <span id="ssb_orange">Add tag</span> and Configure the following:

      - **Key:** `Name`

      - **Value:** `Lab Instance`

    - Choose <span id="ssb_orange">Next</span>

33. Configure the details in Step 6 (Review):

    - Review the details of your Auto Scaling group

    - Choose <span id="ssb_orange">Create Auto Scaling group</span>

      Your Auto Scaling group will initially show an instance count of zero, but new instances will be launched to reach the **Desired** count of 2 instances.


&nbsp;
___
## Task 4: Verify that Load Balancing is Working

In this task, you will verify that Load Balancing is working correctly.

44. In the left navigation pane, choose **Instances**.

    You should see two new instances named **Lab Instance**. These were launched by Auto Scaling.

    <i class="fas fa-comment"></i> If the instances or names are not displayed, wait 30 seconds and choose refresh <i class="fas fa-sync"></i> in the top-right.

    Next, you will confirm that the new instances have passed their Health Check.

45. In the left navigation pane, choose **Target Groups**.

46. Select <i class="far fa-check-square"></i> *LabGroup*

47. Choose the **Targets** tab.

    Two target instances named Lab Instance should be listed in the target group.

48. Wait until the **Status** of both instances transitions to *healthy*. 

    Choose Refresh <i class="fas fa-sync"></i> in the upper-right to check for updates if necessary.

    _Healthy_ indicates that an instance has passed the Load Balancer's health check. This means that the Load Balancer will send traffic to the instance.

    You can now access the Auto Scaling group via the Load Balancer.

49. In the left navigation pane, choose **Load Balancers**.

50. Select the <i class="far fa-check-square"></i> *LabELB* load balancer.

51. In the Details pane, copy the **DNS name** of the load balancer, making sure to omit "(A Record)".

    It should look similar to: _LabELB-1998580470.us-west-2.elb.amazonaws.com_

52. Open a new web browser tab, paste the DNS Name you just copied, and press Enter.

    The application should appear in your browser. This indicates that the Load Balancer received the request, sent it to one of the EC2 instances, then passed back the result.

&nbsp;
___
## Task 5: Test Auto Scaling

You created an Auto Scaling group with a minimum of two instances and a maximum of six instances. Currently two instances are running because the minimum size is two and the group is currently not under any load. You will now increase the load to cause Auto Scaling to add additional instances.

52. Return to the AWS Management Console, but do not close the application tab — you will return to it soon.

53. in the search box next to <span id="ssb_services"><i class="fas fa-th"></i> Services </span>, search for and select **CloudWatch**.

54. In the left navigation pane, choose **All alarms**.

    Two alarms will be displayed. These were created automatically by the Auto Scaling group. They will automatically keep the average CPU load close to 60% while also staying within the limitation of having two to six instances.
    
    ​    <i class="fas fa-exclamation-triangle" style="color:red"></i> **Note**: Please follow these steps only if you do not see the alarms in 60 seconds.

    - On the <span id="ssb_services"><i class="fas fa-th"></i> Services </span> menu, choose **EC2**.
    - In the left navigation pane, choose **Auto Scaling Groups**. 
    - Select <i class="far fa-check-square"></i> **Lab Auto Scaling Group**.
    - In the bottom half of the page, choose the **Automatic Scaling** tab.
    -  Select <i class="far fa-check-square"></i> **LabScalingPolicy**.
    - Choose <span id="ssb_white">Actions <i class="fas fa-angle-down"></i></span> and **Edit**.
    - Change the **Target Value** to `50`.
    - Choose <span id="ssb_orange">Update</span>
    - On the <span id="ssb_services"><i class="fas fa-th"></i> Services </span> menu, choose **CloudWatch**.
    - In the left navigation pane, choose **All alarms** and verify you see two alarms.



55. Choose the **OK** alarm, which has _AlarmHigh_ in its name.

    <i class="fas fa-comment"></i> If no alarm is showing **OK**, wait a minute then choose refresh <i class="fas fa-sync"></i> in the top-right until the alarm status changes.

    The **OK** indicates that the alarm has _not_ been triggered. It is the alarm for **CPU Utilization > 60**, which will add instances when average CPU is high. The chart should show very low levels of CPU at the moment.

    You will now tell the application to perform calculations that should raise the CPU level.

56. Return to the browser tab with the web application.

57. Choose **Load Test** beside the AWS logo.

    This will cause the application to generate high loads. The browser page will automatically refresh so that all instances in the Auto Scaling group will generate load. Do not close this tab.

58. Return to browser tab with the **CloudWatch** console.

    In less than 5 minutes, the **AlarmLow** alarm should change to **OK** and the **AlarmHigh** alarm status should change to *In alarm*.

    <i class="fas fa-comment"></i> You can choose Refresh <i class="fas fa-sync"></i> in the top-right every 60 seconds to update the display.

    You should see the **AlarmHigh** chart indicating an increasing CPU percentage. Once it crosses the 60% line for more than 3 minutes, it will trigger Auto Scaling to add additional instances.

59. Wait until the **AlarmHigh** alarm enters the _In alarm_ state.

    You can now view the additional instance(s) that were launched.

60. In the search box next to <span id="ssb_services"><i class="fas fa-th"></i> Services </span>, search for and select **EC2**.

61. In the left navigation pane, choose **Instances**.

    More than two instances labeled **Lab Instance** should now be running. The new instance(s) were created by Auto Scaling in response to the CloudWatch alarm.

&nbsp;
___
## Task 6: Terminate Web Server 1

In this task, you will terminate _Web Server 1_. This instance was used to create the AMI used by your Auto Scaling group, but it is no longer needed.

62. Select <i class="far fa-check-square"></i> **Web Server 1** (and ensure it is the only instance selected).

63. In the <span id="ssb_white">Instance state <i class="fas fa-angle-down"></i></span> menu, choose **Instance State** > **Terminate Instance**.

64. Choose <span id="ssb_orange">Terminate</span>

&nbsp;
___
## Lab Complete

<i class="icon-flag-checkered"></i> Congratulations! You have completed the lab.

65. Choose <span id="ssb_voc_grey">End Lab</span> at the top of this page and then choose <span id="ssb_blue">Yes</span> to confirm that you want to end the lab.  

    A panel will appear, indicating that "DELETE has been initiated... You may close this message box now."

66. Choose the **X** in the top right corner to close the panel.

*©2023 Amazon Web Services, Inc. and its affiliates. All rights reserved. This work may not be reproduced or redistributed, in whole or in part, without prior written permission from Amazon Web Services, Inc. Commercial copying, lending, or selling is prohibited.*
